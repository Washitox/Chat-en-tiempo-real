"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6688],{6688:(_,m,l)=>{l.r(m),l.d(m,{LoginPageModule:()=>G});var f=l(177),a=l(4341),s=l(7863),c=l(4964),g=l(467),e=l(4438),h=l(856);function v(n,t){1&n&&(e.j41(0,"span"),e.EFF(1,"Email is required"),e.k0s())}function P(n,t){1&n&&(e.j41(0,"span"),e.EFF(1,"Email is invalid"),e.k0s())}function y(n,t){if(1&n&&(e.j41(0,"div",8),e.DNE(1,v,2,0,"span",9)(2,P,2,0,"span",9),e.k0s()),2&n){const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==i.email.errors?null:i.email.errors.required),e.R7$(),e.Y8G("ngIf",null==i.email.errors?null:i.email.errors.email)}}function L(n,t){1&n&&(e.j41(0,"span"),e.EFF(1,"Password is required"),e.k0s())}function F(n,t){1&n&&(e.j41(0,"span"),e.EFF(1,"Password needs to be 6 characters"),e.k0s())}function k(n,t){if(1&n&&(e.j41(0,"div",8),e.DNE(1,L,2,0,"span",9)(2,F,2,0,"span",9),e.k0s()),2&n){const i=e.XpG();e.R7$(),e.Y8G("ngIf",null==i.password.errors?null:i.password.errors.required),e.R7$(),e.Y8G("ngIf",null==i.password.errors?null:i.password.errors.minlength)}}const I=[{path:"",component:(()=>{var n;class t{constructor(r,o,u,d,p){this.fb=r,this.router=o,this.alertController=u,this.loadingController=d,this.chatService=p}ngOnInit(){this.credentialForm=this.fb.group({email:["",[a.k0.required,a.k0.email]],password:["",[a.k0.required,a.k0.minLength(6)]]})}signUp(){var r=this;return(0,g.A)(function*(){const o=yield r.loadingController.create();yield o.present(),r.chatService.signup(r.credentialForm.value).then(u=>{o.dismiss(),r.router.navigateByUrl("/chat",{replaceUrl:!0})},function(){var u=(0,g.A)(function*(d){o.dismiss(),yield(yield r.alertController.create({header:"Sign up failed",message:d.message,buttons:["OK"]})).present()});return function(d){return u.apply(this,arguments)}}())})()}signIn(){var r=this;return(0,g.A)(function*(){const o=yield r.loadingController.create();yield o.present(),r.chatService.signIn(r.credentialForm.value).then(u=>{o.dismiss(),r.router.navigateByUrl("/chat",{replaceUrl:!0})},function(){var u=(0,g.A)(function*(d){o.dismiss(),yield(yield r.alertController.create({header:":(",message:d.message,buttons:["OK"]})).present()});return function(d){return u.apply(this,arguments)}}())})()}get email(){return this.credentialForm.get("email")}get password(){return this.credentialForm.get("password")}}return(n=t).\u0275fac=function(r){return new(r||n)(e.rXU(a.ok),e.rXU(c.Ix),e.rXU(s.hG),e.rXU(s.Xi),e.rXU(h.m))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],decls:16,vars:3,consts:[["color","primary"],[1,"ion-padding"],[3,"formGroup"],["placeholder","Email address","formControlName","email","autofocus","true","clearInput","true"],["class","errors",4,"ngIf"],["placeholder","Password","type","password","formControlName","password","clearInput","true"],["expand","full",3,"click"],["expand","full","color","secondary",3,"click"],[1,"errors"],[4,"ngIf"]],template:function(r,o){1&r&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3,"Devdactic Chat"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"form",2)(6,"ion-item"),e.nrm(7,"ion-input",3),e.k0s(),e.DNE(8,y,3,2,"div",4),e.j41(9,"ion-item"),e.nrm(10,"ion-input",5),e.k0s(),e.DNE(11,k,3,2,"div",4),e.k0s(),e.j41(12,"ion-button",6),e.bIt("click",function(){return o.signUp()}),e.EFF(13,"Sing up"),e.k0s(),e.j41(14,"ion-button",7),e.bIt("click",function(){return o.signIn()}),e.EFF(15,"Sing in"),e.k0s()()),2&r&&(e.R7$(5),e.Y8G("formGroup",o.credentialForm),e.R7$(3),e.Y8G("ngIf",o.email&&(o.email.dirty||o.email.touched)&&o.email.errors),e.R7$(3),e.Y8G("ngIf",o.password&&(o.password.dirty||o.password.touched)&&o.password.errors))},dependencies:[f.bT,a.qT,a.BC,a.cb,s.Jm,s.W9,s.eU,s.$w,s.uz,s.BC,s.ai,s.Gw,a.j4,a.JD],styles:[".errors[_ngcontent-%COMP%]{font-size:small;color:#fff;background:var(--ion-color-danger);padding-left:15px;padding-top:5px;padding-bottom:5px}"]}),t})()}];let C=(()=>{var n;class t{}return(n=t).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[c.iI.forChild(I),c.iI]}),t})(),G=(()=>{var n;class t{}return(n=t).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.MD,a.YN,s.bv,C,a.X1]}),t})()}}]);